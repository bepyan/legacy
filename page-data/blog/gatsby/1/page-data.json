{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/blog/gatsby/1",
    "result": {"data":{"markdownRemark":{"html":"<br>\n<br>\n<blockquote>\n<p><strong>Gatsby</strong>.   React를 알면 쉽게 사용할 수 있는 정적사이트 생성기.</p>\n</blockquote>\n<br>\n<br>\n<h3 id=\"-특징\" style=\"position:relative;\">🗡 특징<a href=\"#-%ED%8A%B9%EC%A7%95\" aria-label=\" 특징 permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><strong>React + GrapQL기반</strong></p>\n<ul>\n<li>Jekyll은 Ruby 기반이기에 React에 친숙하면 Gatsby에 눈길이 갈거다.</li>\n</ul>\n<br>\n<p><strong>정적 사이트</strong></p>\n<ul>\n<li>빈 HTML 페이지 안에 마크업을 추가해주는 SPA와 달리 Build 과정에서 마크업이 생성된다.</li>\n<li>즉, SEO에 최적화 되어 있다.</li>\n<li>필요에 따라 CSR과 SSR, lazy loading을 적절히 섞어 사용하여 단순한 static 페이지보다 좋다</li>\n</ul>\n<br>\n<p><strong>Markdown</strong></p>\n<ul>\n<li>콘텐츠를 Markdown 파일로 관리하여 편하다.</li>\n<li>JAMstack를 통해 MD파일을 스타일을 씌워준다.</li>\n<li>HTML 템플릿에 MD를 담는다.</li>\n</ul>\n<br>\n<br>\n<h3 id=\"-시작하기\" style=\"position:relative;\">🗡 시작하기<a href=\"#-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\" aria-label=\" 시작하기 permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>빠른 사이트 구축을 위해 많은 <a href=\"https://www.gatsbyjs.com/starters?\">오픈소스 탬플릿</a>을 참고할 수 있다.</p>\n<p>난 <a href=\"https://www.gatsbyjs.com/starters/niklasmtj/gatsby-starter-julia\">gatsby-starter-julia</a> 이 디자인이 눈에 쏙 들어왔다. @emtion으로 스타일링이 되어 있다고 하니 커스텀하기도 나에게 딱이었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">yarn</span> global <span class=\"token function\">add</span> gatsby-cli</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">npx gatsby new blog https://github.com/niklasmtj/gatsby-starter-julia</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<ul>\n<li>Window에서는 앞에 <code class=\"language-text\">npx</code>은 빼도록 하자.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">cd blog\nyarn start</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">http://localhost:8000/</code>로 서버가 구동된다!</p>\n<br>\n<br>\n<h3 id=\"-배포하기\" style=\"position:relative;\">🗡 배포하기<a href=\"#-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\" 배포하기 permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p><code class=\"language-text\">gh-pages</code>를 통해서 Git Page로 배포할 예정이다.</p>\n<p>먼저 github repository를 파도록 하자.<br>\n레포지토리 이름은 <code class=\"language-text\">${github id}.github.io</code> 파도록 하자! 편하게 자동화를 위해!</p>\n<p>default branch는 <code class=\"language-text\">dev</code>로 파도록 하자.<br>\n이제 빌드를 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">git</span> branch -M gh-pages\n<span class=\"token function\">git</span> checkout gh-pages\n<span class=\"token function\">npm</span> i --save-dev gh-pages</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">gh-pages</code> 브랜치를 파고 모듈 설치하자</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">\"scripts\": {\n    \"deploy\": \"gatsby build &amp;&amp; gh-pages -d public\",\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">package.json</code>에 스크립트를 추가하자</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">git push -u origin gh-pages</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>변경사항을 커밋하자</p>\n<br>\n<p>github에서 브랜치가 생겼는지 꼭 확인하고 다음 작업을 진행하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">npm run deploy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">Repository -> Settings -> Pages</code>가서 Source가 gh-pages 브랜치로 save되어 있는지 확인한다.</p>\n<p>시간이 조금 지나면 배포되었음을 알 수 있다!</p>\n<p><a href=\"https://bepyan.github.io\">bepyan.github.io</a></p>\n<br>\n<br>\n<h3 id=\"-github-actions으로-자동배포\" style=\"position:relative;\">🗡 Github Actions으로 자동배포<a href=\"#-github-actions%EC%9C%BC%EB%A1%9C-%EC%9E%90%EB%8F%99%EB%B0%B0%ED%8F%AC\" aria-label=\" github actions으로 자동배포 permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>dev 브랜치에 푸시를 하면 자동으로 배포되는 것이 목표이다.</p>\n<p>우선 <a href=\"https://github.com/settings/tokens\">github 토큰</a>을 구하로 가자.</p>\n<ul>\n<li>기존 만든 것이 있다면 <code class=\"language-text\">Regenerate token</code>하면 된다.</li>\n</ul>\n<p><code class=\"language-text\">Settings -> Secret -> Secrets -> New repository secret</code> 가서 Token을 등록하도록 하자.</p>\n<ul>\n<li>Github에서 <code class=\"language-text\">Env</code>로 사용된다고 생각하면 된다.</li>\n<li>나같은 경우 Key는 <code class=\"language-text\">TOKEN</code>, Value에 토큰을 복사했다.</li>\n</ul>\n<br>\n<p><code class=\"language-text\">Actions -> set up a workflow yourself</code> 가서 <code class=\"language-text\">main.yml</code> 파일을 만들자.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yml line-numbers\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy Project\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> dev\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">update</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@master\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up Node.js\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@master\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> 12.x\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Cache node_modules\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/cache@v1\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> node_modules\n          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>runner.OS<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>build<span class=\"token punctuation\">-</span>$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>hashFiles('<span class=\"token important\">**/yarn.lock')</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">restore-keys</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n            ${{ runner.OS }}-build-${{ runner.OS }}-</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install dependencies\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn install <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>prod <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>pure<span class=\"token punctuation\">-</span>lockfile\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn run build\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">NODE_ENV</span><span class=\"token punctuation\">:</span> production\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> peaceiris/actions<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages@v2.5.0\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">PERSONAL_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.TOKEN<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">PUBLISH_BRANCH</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n          <span class=\"token key atrule\">PUBLISH_DIR</span><span class=\"token punctuation\">:</span> ./public\n          <span class=\"token key atrule\">SCRIPT_MODE</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">on: push: branches: dev</code></p>\n<ul>\n<li>해당 브랜치에 push가 들어오면 action을 실행하겠다.</li>\n</ul>\n</li>\n</ul>\n<br>\n<ul>\n<li>github의 서버(우분투)에서 action이 실행되는데\n<ul>\n<li>NodeJS를 설정하고</li>\n<li>node_modules를 설치하고</li>\n<li>build하고</li>\n<li>gh-pages 브랜치에 deploy한다. 이때 <code class=\"language-text\">gh-pages</code>가 배포할 때 사용자의 토큰이 필요하다.</li>\n</ul>\n</li>\n</ul>\n<br>\n<br>\n<br>\n<h3 id=\"-완성\" style=\"position:relative;\">🗡 완성<a href=\"#-%EC%99%84%EC%84%B1\" aria-label=\" 완성 permalink\" class=\"anchor-header after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>이제 완성했다. 이제 내용을 작성하고 <code class=\"language-text\">dev</code> 브랜치에 커밋을 하로 가자!</p>\n<p>Github -> Actions 가면 진행중인 상황 및 로그를 볼 수 있다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/65283190/136669362-ec7eefe5-8fc4-46d4-9f22-89c095dcf8c0.png\" alt=\"image\"></p>","tableOfContents":"<ul>\n<li><a href=\"#-%ED%8A%B9%EC%A7%95\">🗡 특징</a></li>\n<li><a href=\"#-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0\">🗡 시작하기</a></li>\n<li><a href=\"#-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\">🗡 배포하기</a></li>\n<li><a href=\"#-github-actions%EC%9C%BC%EB%A1%9C-%EC%9E%90%EB%8F%99%EB%B0%B0%ED%8F%AC\">🗡 Github Actions으로 자동배포</a></li>\n<li><a href=\"#-%EC%99%84%EC%84%B1\">🗡 완성</a></li>\n</ul>","excerpt":"Gatsby.   React를 알면 쉽게 사용할 수 있는 정적사이트 생성기. 🗡 특징 React + GrapQL기반 Jekyll은 Ruby 기반이기에 React에 친숙하면 Gatsby에 눈길이 갈거다. 정적 사이트 빈 HTML 페이지 안에 마크업을 추가해주는 SPA와 달리 Build…","frontmatter":{"date":"2021.10.07","path":"/blog/gatsby/1","title":"Gatsby 블로그 시작부터 배포까지","tags":["Gatsby","Tutorial"],"series":"Gatsby 블로그 만들기"},"fields":{"readingTime":{"text":"5 min read"}}}},"pageContext":{}},
    "staticQueryHashes": ["210451802","3649515864","63159454"]}